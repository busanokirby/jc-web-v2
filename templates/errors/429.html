<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Too Many Requests (429) - JC Icons</title>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    }

    body {
      min-height: 100vh;
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%);
      color: #1e293b;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1.5rem;
    }

    main {
      width: 100%;
      max-width: 480px;
    }

    .card {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.30);
      border-radius: 12px;
      padding: 24px;
      box-shadow: 0 20px 25px -5px rgba(239, 68, 68, 0.10);
    }

    .icon-container {
      display: flex;
      justify-content: center;
      margin-bottom: 24px;
    }

    .relative {
      position: relative;
      width: 96px;
      height: 96px;
    }

    .countdown-ring {
      width: 100%;
      height: 100%;
      transform: rotate(-90deg);
    }

    .icon-center {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .icon-box {
      width: 64px;
      height: 64px;
      background: linear-gradient(to bottom right, #ef4444, #f97316);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 10px 15px -3px rgba(239, 68, 68, 0.30);
      animation: shake 0.5s ease-in-out;
    }

    .icon-svg {
      width: 32px;
      height: 32px;
      stroke: #fff;
      fill: none;
      stroke-width: 2;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    .badge {
      display: flex;
      justify-content: center;
      margin-bottom: 12px;
    }

    .badge-text {
      padding: 6px 12px;
      background-color: #fee2e2;
      color: #b91c1c;
      font-size: 12px;
      font-weight: 700;
      border-radius: 9999px;
    }

    h1 {
      font-size: 24px;
      font-weight: 800;
      text-align: center;
      margin-bottom: 8px;
      background: linear-gradient(135deg, #ef4444 0%, #f97316 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .subtitle {
      color: #64748b;
      text-align: center;
      font-size: 14px;
      margin-bottom: 24px;
      line-height: 1.4;
    }

    .timer-box {
      background-color: #f1f5f9;
      border-radius: 10px;
      padding: 16px;
      margin-bottom: 24px;
    }

    .timer-label {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      margin-bottom: 12px;
    }

    .timer-label-icon {
      width: 16px;
      height: 16px;
      stroke: #94a3b8;
      fill: none;
      stroke-width: 2;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    .timer-label-text {
      color: #64748b;
      font-weight: 600;
      font-size: 14px;
    }

    .timer-display {
      font-size: 32px;
      font-weight: 800;
      text-align: center;
      color: #1e293b;
      font-family: "Courier New", monospace;
      letter-spacing: 0.08em;
    }

    .timer-message {
      font-size: 12px;
      color: #64748b;
      text-align: center;
      margin-top: 8px;
    }

    .info-sections {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-bottom: 24px;
    }

    summary {
      display: flex;
      align-items: center;
      justify-content: space-between;
      cursor: pointer;
      padding: 12px;
      background-color: #fef2f2;
      border-radius: 10px;
      user-select: none;
      transition: background-color 0.2s ease;
      list-style: none;
    }

    summary::-webkit-details-marker { display: none; }

    summary:hover { background-color: rgba(251, 113, 113, 0.10); }

    .summary-content {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .summary-icon-box {
      width: 28px;
      height: 28px;
      background-color: #fee2e2;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .summary-icon-box.warning { background-color: #fef3c7; }

    .summary-icon {
      width: 14px;
      height: 14px;
      fill: none;
      stroke: #dc2626;
      stroke-width: 2;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    .summary-icon.warning { stroke: #d97706; }

    .summary-title {
      font-weight: 700;
      color: #1e293b;
      font-size: 14px;
    }

    .chevron {
      width: 16px;
      height: 16px;
      stroke: #94a3b8;
      fill: none;
      stroke-width: 2;
      stroke-linecap: round;
      stroke-linejoin: round;
      transition: transform 0.3s ease;
    }

    details[open] .chevron { transform: rotate(180deg); }

    .details-content {
      margin-top: 8px;
      margin-left: 36px;
      list-style: none;
    }

    .details-content li {
      display: flex;
      gap: 8px;
      color: #64748b;
      font-size: 12px;
      margin-bottom: 6px;
      line-height: 1.4;
    }

    .bullet { color: #f87171; font-weight: 900; flex-shrink: 0; }
    .bullet.warning { color: #fbbf24; }

    .action-button {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      width: 100%;
      padding: 12px 16px;
      background: linear-gradient(to right, #1e293b, #334155);
      color: #fff;
      font-weight: 800;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      text-decoration: none;
      text-align: center;
      font-size: 14px;
      transition: all 0.25s ease;
      box-shadow: 0 10px 15px -3px rgba(30, 41, 59, 0.20);
    }

    .action-button:hover {
      background: linear-gradient(to right, #0f172a, #1e293b);
      box-shadow: 0 20px 25px -5px rgba(30, 41, 59, 0.30);
      transform: translateY(-2px);
    }

    .action-button.disabled {
      opacity: 0.55;
      cursor: not-allowed;
      pointer-events: none;
      transform: none;
      box-shadow: none;
    }

    .button-icon {
      width: 16px;
      height: 16px;
      stroke: #fff;
      fill: none;
      stroke-width: 2;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    .footer {
      text-align: center;
      color: #64748b;
      font-size: 12px;
      margin-top: 16px;
    }

    .ok { color: #10b981 !important; }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      10%, 30%, 50%, 70%, 90% { transform: translateX(-2px); }
      20%, 40%, 60%, 80% { transform: translateX(2px); }
    }

    @media (max-width: 640px) {
      .card { padding: 20px; }
      h1 { font-size: 20px; }
      .timer-display { font-size: 28px; }
    }
  </style>
</head>

<body>
  <main>
    <div class="card">
      <div class="icon-container">
        <div class="relative">
          <svg class="countdown-ring" viewBox="0 0 100 100" aria-hidden="true">
            <circle cx="50" cy="50" r="45" fill="none" stroke="#fee2e2" stroke-width="4"></circle>
            <circle id="ring-progress"
                    cx="50" cy="50" r="45"
                    fill="none" stroke="#ef4444" stroke-width="4"
                    stroke-linecap="round"
                    stroke-dasharray="283"
                    stroke-dashoffset="0"></circle>
          </svg>

          <div class="icon-center">
            <div class="icon-box" aria-hidden="true">
              <svg class="icon-svg" viewBox="0 0 24 24">
                <path d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
              </svg>
            </div>
          </div>
        </div>
      </div>

      <div class="badge">
        <span class="badge-text">Error 429</span>
      </div>

      <h1 id="error-title">Too Many Requests</h1>
      <p class="subtitle" id="error-subtitle">You have exceeded the maximum number of login attempts.</p>

      <div class="timer-box" role="status" aria-live="polite">
        <div class="timer-label">
          <svg class="timer-label-icon" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
          <span class="timer-label-text">Time remaining</span>
        </div>

        <div class="timer-display" id="timer-display">02:30</div>
        <p class="timer-message" id="wait-message">Please wait 2 minutes and 30 seconds before trying again</p>
      </div>

      <div class="info-sections">
        <details open>
          <summary>
            <div class="summary-content">
              <div class="summary-icon-box">
                <svg class="summary-icon" viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
              </div>
              <span class="summary-title">What happened?</span>
            </div>

            <svg class="chevron" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M19 9l-7 7-7-7"></path>
            </svg>
          </summary>

          <ul class="details-content">
            <li><span class="bullet">•</span> Too many failed login attempts detected</li>
            <li><span class="bullet">•</span> Your IP address has been temporarily rate-limited</li>
            <li><span class="bullet">•</span> This is a security measure to protect your account</li>
          </ul>
        </details>

        <details>
          <summary>
            <div class="summary-content">
              <div class="summary-icon-box warning">
                <svg class="summary-icon warning" viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0114 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                </svg>
              </div>
              <span class="summary-title">Helpful tips</span>
            </div>

            <svg class="chevron" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M19 9l-7 7-7-7"></path>
            </svg>
          </summary>

          <ul class="details-content">
            <li><span class="bullet warning">•</span> Double-check your username and password</li>
            <li><span class="bullet warning">•</span> Ensure Caps Lock is not enabled</li>
            <li><span class="bullet warning">•</span> If you forgot your password, contact an administrator</li>
          </ul>
        </details>
      </div>

      <a href="/login" class="action-button disabled" id="login-btn" aria-disabled="true">
        <svg class="button-icon" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M11 17l-5-5m0 0l5-5m-5 5h12"></path>
        </svg>
        <span id="button-text">Back to Login</span>
      </a>
    </div>

    <p class="footer">Need help? Contact your system administrator</p>
  </main>

  <script>
    // ====== LOCAL CONFIG ======
    // Change seconds here if you want a different lockout time:
    const TOTAL_SECONDS = 150; // 2.5 minutes
    // Optional: auto-enable only, no redirect. If you want redirect, set to true.
    const AUTO_REDIRECT_ON_FINISH = false;

    // ====== Countdown Logic ======
    const display = document.getElementById('timer-display');
    const message = document.getElementById('wait-message');
    const ring = document.getElementById('ring-progress');
    const btn = document.getElementById('login-btn');

    const CIRCUMFERENCE = 283; // matches stroke-dasharray
    let timeLeft = TOTAL_SECONDS;

    function formatTime(sec) {
      const m = Math.floor(sec / 60);
      const s = sec % 60;
      return String(m).padStart(2, '0') + ':' + String(s).padStart(2, '0');
    }

    function setRingProgress(remaining, total) {
      // remaining: total -> 0
      const ratio = Math.max(0, Math.min(1, remaining / total));
      const offset = CIRCUMFERENCE * (1 - ratio);
      ring.style.strokeDashoffset = String(offset);
    }

    function enableButton() {
      btn.classList.remove('disabled');
      btn.setAttribute('aria-disabled', 'false');
    }

    function tick() {
      // Update UI first (so 05:00 shows immediately)
      display.textContent = formatTime(timeLeft);
      setRingProgress(timeLeft, TOTAL_SECONDS);

      if (timeLeft <= 0) {
        clearInterval(timer);
        display.textContent = '00:00';
        display.classList.add('ok');
        message.textContent = 'You may try again now.';
        enableButton();

        if (AUTO_REDIRECT_ON_FINISH) {
          window.location.href = btn.getAttribute('href') || '/login';
        }
        return;
      }

      timeLeft -= 1;
    }

    // Start
    tick();
    const timer = setInterval(tick, 1000);
  </script>
</body>
</html>